# 裁判文书标注系统说明文档

作者：CZY组

---

[TOC]



## 简介

### 项目地址

+ GitHub Pages：https://github.com/Suzcer/susu-gif

### 项目访问

+ 项目依赖于natapp，并没有固定域名，目前为： http://apw7pw.natappfree.cc/home

### 联系我们

+ 邮箱（陈鉴）：201250091@smail.nju.edu.cn
+ 邮箱（张亦弛）：201250088@smail.nju.edu.cn
+ 邮箱（苏致成）：201250104@smail.nju.edu.cn

### 项目成员

#### 组员

+ 陈鉴：组长，Django构建、图表制作、NLP
+ 张亦弛：前端代码实现、NLP、爬虫
+ 苏致成：爬虫、Django构建、NLP、前端代码实现

#### 组名

取组员陈鉴之陈（C），苏致成之致（Z），张亦弛之亦（Y），故名CZY队。如有雷同，纯属巧合。



### 项目开发日志

项目开发日志见于“项目开发日志文档”。



### 项目研究报告

项目研究报告详见“裁判文书标注问题的研究报告”，其中仅涉及自然语言处理方面的问题探讨，不涉及该系统的使用。



## 系统组成部分

> 以下讲述分类按照主页面中导航栏各导航项分类

### 简述

#### 背景

​		随着中国法治社会建设的持续推进，人们越来越青睐于将争端诉诸法律。而面对如此庞大的法律文书，计算机的应用在此显然有不小的用武之地。通过爬取法律与犯罪领域文本，构建起司法领域语料库，并使用自然语言处理技术进行挖掘，具有重要意义，我们将其称为法律智能。而在法律智能方面，将法律文书的自然语言标注无疑是一切研究的根基。目前法律文书的标注系统仍不完善，基于此，我们开发出本套裁判文书标注系统，以帮助相关法律工作者进行裁判文书的标注工作。



#### 需求

> 摘自“数据科学基础大作业要求ppt”

- [x] 研究内容：时间范围、性别分布、案由比例、地区人口

- [x] 根据数据分布**筛选与预处理**对应的刑事案件数据集
- [x] 对获取的案件数据集进行分析，对犯罪基本信息进行**自动化标注**，分词后对**词性**进行解析

- [x] 用户可以点击保存按钮将案件和基本信息**保存到本地**，文件分别为：案件文本.txt、标注.json
- [ ] 可根据时间范围对网页中的案例信息进行**自动爬取**

> 因为爬虫未能实现，因此采取数据库搜索的方式实现搜索功能



#### 项目依赖技术和库

+ 前端：Vue、Element-ui、Bootstrap、Echarts、Filesaver、Jquery、Ajax
+ 后端：Django
+ 爬虫：Selenium
+ NLP：pyhanlp、gensim、scipy、numpy、sklearn、pandas
+ 其他：Mysql、VBA、Natapp

项目框架依赖于Django+vue+elementui。



### 数据获取

#### 爬虫

##### 实现

Selenium

##### 详细描述

+ 研究裁判文书网，发现对于爬虫协议如下，即不允许所有爬虫访问：

  ```
  User-agent: *
  Disallow: /
  ```

+ Selenium为Web自动化工具，模拟键鼠操作。本组于瑞数系统升级之前曾凭此前编写的爬虫获取282份数据。

> 因为爬虫未能实现，因此采取数据库搜索的方式实现搜索功能，数据为此前爬虫获取

#### 文件转化

​		依赖VBA代码（原本一版为python，但笔者认为python过慢），详情见代码打包文件。



### 分词

#### 实现

Pyhanlp

#### 简要描述

+ 对比HMM、LTP、jieba、中科院PYNLPIR的分词结果，最终选择pyhanlp。

+ 依赖于pyhanlp的条件随机场（CRF）进行分词与词性标注，根据词性以及刑事裁定书文体规范进行各信息（犯罪嫌疑人姓名、民族、性别、出生年月、出生地、审判时间、形容词、动词、案由、被害人）提取
+ 注意到本系统使用条件，我们将部分动词进行剔除，这部分词与自定义词典“剔除动词”中的词的词距较小，即如动词中 “位于、具有” 进行剔除；同时结果中的动词必须与自定义词典"保留动词"中的某个词的词距较小，如“击打，抢劫”。此部分词典允许自定义。

> 关于NLP的研究详见研究报告



### 首页

#### 前端页面概述

+ home，项目主页面
+ search，搜索页面
+ upload，文件上传分词页面
+ textinput，在线文字分词页面
+ detail，犯罪嫌疑人详细信息主页
+ demo，nlp相关内容测试

> 以下为系统内置页面，无需用户参与：
>
> + index，前端页面初始版本
> + preload，数据预加载页面
> + login，登录页面，暂无利用
> + admin，Django后台管理页面，暂无利用



#### 详细项

+ Chart01：犯罪嫌疑人随省份的分布，基于Echarts的南丁格尔玫瑰图
+ Chart02：性别-民族-出生年份-审判年份，基于Echarts的桑基图
+ Chart03：案由数量分布，基于Echarts的柱状图

> 数据来源为数据库中数据，随数据库动态变化；
>
> 数据量较小，不能反映我国总体真实情况；
>
> 笔者仅做研究，并无偏见

#### 实现

Echarts

### 在线分词

> 以下二者逻辑并无不同，属于设计瑕疵

#### 上传文件

##### 使用指南

用户上传本地txt文件，通过分词获取数据，并且支持勾选分词数据以及增加数据，并且将最后确定的数据进行本地保存或上传到数据库保存，本地保存支持txt、docx、json共同下载；数据库保存如数据已在数据库中会跳转至该条数据的详情页。

##### 实现

+ 文件下载依赖Filesaver.js
+ 分词将在分词部分进行解析
+ 词汇添加参考 todos 项目实现

> 目前仅支持txt文件，即将支持docx文件；目前仅支持上传单份文件，未来可能会支持多份文件
>
> 目前用户的分词结果不会对下一次进行影响，即没有产生优化的功能，未来可能得以改善

#### 文字输入

##### 使用指南

用户在线输入“刑事裁定书”，通过分词获取数据，并且支持勾选分词数据以及增加数据，并且将最后确定的数据进行本地保存或上传到数据库保存，支持txt、docx、json共同下载。

### 搜索

##### 使用指南

用户选择查询的起始日期和终止日期，系统进行信息反馈，并且可以查看该条数据的详情。

> 因为我们认为用户没有编辑过往数据的权限，因此暂未实现数据的编辑功能

### Demo

> Demo仅仅是Demo，与本系统主线暂不相关

#### 使用指南

用户在线输入文字，即可得到相应的数据。分为短语提取、依存句法分析、关键句提取三个模块

#### 短语提取

根据信息熵相关理论进行提取关键词语，相关研究见于研究报告

#### 依存句法分析

采用基于神经网络的高性能依存句法分析器，相关研究见于研究报告

#### 自动摘要

采用TextRankKeyword进行自动摘要，相关研究见于研究报告



## 后续走向

> 项目测试目前仅小范围进行测试，并且不出意外地有很多臭虫

### 爬虫

+ 爬取同类型网站，如北大法宝、Alpha案例库、CaseShare、法信网、无讼案例、聚法案例、Openlaw

### NLP

+ 分词效果不理想，如命名实体的识别
+ 形容词、动词提供信息有限，应将形容词短语、动词短语提取出来

### 前端

+ 前端代码冗余
+ 基础架构不熟练，存在混乱现象
+ 样式设计差强人意

### 后端

+ 系统鲁棒性不足，比如对上传的文书并未做严格检查，相关研究见于研究报告





## 附录

+ 页面展示如下
+ 首页
+ ![image-20220120004132030](C:\Users\Dudu\AppData\Roaming\Typora\typora-user-images\image-20220120004132030.png)
+ 搜索页
+ ![image-20220120004526730](C:\Users\Dudu\AppData\Roaming\Typora\typora-user-images\image-20220120004526730.png)
+ 详情页
+ ![image-20220120004616003](C:\Users\Dudu\AppData\Roaming\Typora\typora-user-images\image-20220120004616003.png)
+ 在线分词页
+ ![image-20220120004735854](C:\Users\Dudu\AppData\Roaming\Typora\typora-user-images\image-20220120004735854.png)
+ Demo页
+ ![image-20220120004950045](C:\Users\Dudu\AppData\Roaming\Typora\typora-user-images\image-20220120004950045.png)
+ Readme页（与本文档相同）
+ ![image-20220120005043214](C:\Users\Dudu\AppData\Roaming\Typora\typora-user-images\image-20220120005043214.png)
